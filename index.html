<!DOCTYPE html>
<html>
    <head>
        <title>Study</title>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
        <style>
            body { text-align: center;
                font-family: 'Roboto', sans-serif; }
            h1 {
                color: rgb(80, 80, 80);
                }
            form { margin-left: 25%;
    margin-right:25%;
     }
            input[type=text] {
                width: 80%;
                padding:10px 10px 10px 10px;
                margin: 20px 20px 20px 20px;
                box-shadow: -3px 3px 10px 0 rgba(0,0,0,0.08);
                border-radius:15px;
                border-width: 1.5px;
                border-style:solid;
                border-color: grey;
                font-family: 'Roboto', sans-serif;
                
                
            }
            input[type=text]:focus {
                /* border-color:black; */
                outline: none;
            }
            input{
                font-size: 21px;
                color: rgb(75, 74, 74);
            }
        
        </style>
    </head>
<body onload="autInit()">

<h1 id='question'>Please list uses of a toothpick:</h1>
<form>
    <div id='formDiv'>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
        <br><input type='text' class='inputs'><br>
    </div>
</form>
<script>

var condCount = 0;
var autTimes = [90000, 150000, 90000, 60000, 30000, 60000];
var sortTimes = [150000, 90000, 90000, 30000, 60000, 60000];
var csv = "";
var condition = "toothpick";

function autInit() {
    setTimeout(nextCondition, autTimes[condCount]);
}

function nextCondition() {
    openWin();
    var x = document.getElementsByClassName("inputs");
    for (i = 0; i < x.length; i++) {
        if (x[i].value != "") {
            csv += condition;
            csv += ",";
            csv += x[i].value;
            x[i].value="";
            // csv += ",";
            // if (condCount > 3) {
            //     csv += "brick";
            // } else {
            //     csv += "toothpick";
            // }
            csv += "\n";
        }
    }
    condCount += 1;
    if (condCount == 4) {
        condition = "brick";
        document.getElementById('question').innerHTML = "Please list alternate uses of a brick:";
    }
    document.getElementById('formDiv').innerHTML = "";
    var newdiv1 = document.createElement('div');
    newdiv1.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv1);
    var newdiv2 = document.createElement('div');
    newdiv2.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv2);
    var newdiv3 = document.createElement('div');
    newdiv3.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv3);
    var newdiv4 = document.createElement('div');
    newdiv4.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv4);
    var newdiv5 = document.createElement('div');
    newdiv5.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv5);
    var newdiv6 = document.createElement('div');
    newdiv6.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv6);
    var newdiv7 = document.createElement('div');
    newdiv7.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv7);
    var newdiv8 = document.createElement('div');
    newdiv8.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv8);
    var newdiv9 = document.createElement('div');
    newdiv9.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv9);
    var newdiv10 = document.createElement('div');
    newdiv10.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv10);
    var newdiv11 = document.createElement('div');
    newdiv11.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv11);
    var newdiv12 = document.createElement('div');
    newdiv12.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv12);
    var newdiv13 = document.createElement('div');
    newdiv13.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv13);
    var newdiv14 = document.createElement('div');
    newdiv14.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv14);
    var newdiv15 = document.createElement('div');
    newdiv15.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv15);
    var newdiv16 = document.createElement('div');
    newdiv16.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv16);
    var newdiv17 = document.createElement('div');
    newdiv17.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv17);
    var newdiv18 = document.createElement('div');
    newdiv18.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv18);
    var newdiv19 = document.createElement('div');
    newdiv19.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv19);
    var newdiv20 = document.createElement('div');
    newdiv20.innerHTML = "<br><input type='text' class='inputs'><br>";
    document.getElementById('formDiv').appendChild(newdiv20);
}

function openWin() {
  var myWindow = window.open("https://medhapatil.github.io/sorting/", "myWindow", "width=1200, height=600");
  setTimeout(function(){ myWindow.close()
    if (condCount < 6) {
        autInit();
    } else {
        var hiddenElement = document.createElement('a');
        hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);
        hiddenElement.target = '_blank';
        hiddenElement.download = 'data.csv';
        hiddenElement.click();
        document.getElementById('formDiv').innerHTML = "";
        document.getElementById('question').innerHTML = "Thank you. Please close this window.";
    } }, sortTimes[condCount]);
}


</script>

</body>
</html>

